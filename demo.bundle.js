webpackJsonp([0],{0:function(e,t,i){e.exports=i(1)},1:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(2),o=n(r),s=i(29),a=n(s),p=i(167),u=n(p);i(1240),a.default.render(o.default.createElement(u.default,null),document.getElementById("root"))},167:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();i(168);var p=i(2),u=n(p),l=i(172),c=n(l),d=i(174),h=n(d),f=i(191),m=n(f),g=(0,c.default)().add(-6,"months").valueOf(),v=(0,c.default)().add(6,"months").valueOf(),y={groupIdKey:"id",groupTitleKey:"title",groupRightTitleKey:"rightTitle",itemIdKey:"id",itemTitleKey:"title",itemDivTitleKey:"title",itemGroupKey:"group",itemTimeStartKey:"start",itemTimeEndKey:"end"},T=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));b.call(i);var n=(0,m.default)(),s=n.groups,a=n.items,p=(0,c.default)().startOf("day").toDate(),u=(0,c.default)().startOf("day").add(1,"day").toDate();return i.state={groups:s,items:a,defaultTimeStart:p,defaultTimeEnd:u},i}return s(t,e),a(t,[{key:"render",value:function(){var e=this.state,t=e.groups,i=e.items,n=e.defaultTimeStart,r=e.defaultTimeEnd;return u.default.createElement(h.default,{groups:t,items:i,keys:y,fixedHeader:"fixed",fullUpdate:!0,sidebarWidth:150,sidebarContent:u.default.createElement("div",null,"Above The Left"),rightSidebarWidth:150,rightSidebarContent:u.default.createElement("div",null,"Above The Right"),canMove:!0,canResize:"right",canSelect:!0,itemsSorted:!0,itemTouchSendsClick:!1,stackItems:!0,itemHeightRatio:.75,showCursorLine:!0,defaultTimeStart:n,defaultTimeEnd:r,onCanvasClick:this.handleCanvasClick,onCanvasContextMenu:this.handleCanvasContextMenu,onItemClick:this.handleItemClick,onItemSelect:this.handleItemSelect,onItemContextMenu:this.handleItemContextMenu,onItemMove:this.handleItemMove,onItemResize:this.handleItemResize,onTimeChange:this.handleTimeChange,moveResizeValidator:this.moveResizeValidator})}}]),t}(p.Component),b=function(){var e=this;this.handleCanvasClick=function(e){console.log("Canvas clicked")},this.handleCanvasContextMenu=function(e,t,i){console.log("Canvas context menu",e,t)},this.handleItemClick=function(e){console.log("Clicked: "+e)},this.handleItemSelect=function(e){console.log("Selected: "+e)},this.handleItemContextMenu=function(e){console.log("Context Menu: "+e)},this.handleItemMove=function(t,i,n){var r=e.state,o=r.items,s=r.groups,a=s[n];e.setState({items:o.map(function(e){return e.id===t?Object.assign({},e,{start:i,end:i+(e.end-e.start),group:a.id}):e})}),console.log("Moved",t,i,n)},this.handleItemResize=function(t,i,n){var r=e.state.items;e.setState({items:r.map(function(e){return e.id===t?Object.assign({},e,{start:"left"===n?i:e.start,end:"left"===n?e.end:i}):e})}),console.log("Resized",t,i,n)},this.handleTimeChange=function(e,t,i){e<g&&t>v?i(g,v):e<g?i(g,g+(t-e)):t>v?i(v-(t-e),v):i(e,t)},this.moveResizeValidator=function(e,t,i,n){if(i<(new Date).getTime()){var r=9e5*Math.ceil((new Date).getTime()/9e5);return r}return i}};t.default=T},168:function(e,t){},174:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(175),o=n(r);t.default=o.default},175:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(2),c=n(l),d=i(172),h=n(d);i(176);var f=i(178),m=n(f),g=i(182),v=n(g),y=i(185),T=n(y),b=i(186),S=n(b),P=i(187),C=n(P),w=i(188),R=n(w),M=i(189),k=n(M),E=i(190),z=n(E),O=i(181),x={groupIdKey:"id",groupTitleKey:"title",groupRightTitleKey:"rightTitle",itemIdKey:"id",itemTitleKey:"title",itemDivTitleKey:"title",itemGroupKey:"group",itemTimeStartKey:"start_time",itemTimeEndKey:"end_time"},_={second:1,minute:1,hour:1,day:1,month:1,year:1},H=function(e){function t(e){o(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));I.call(i);var n=null,a=null;i.props.defaultTimeStart&&i.props.defaultTimeEnd?(n=i.props.defaultTimeStart.valueOf(),a=i.props.defaultTimeEnd.valueOf()):i.props.visibleTimeStart&&i.props.visibleTimeEnd?(n=i.props.visibleTimeStart,a=i.props.visibleTimeEnd):(n=Math.min.apply(Math,r(i.props.items.map(function(e){return(0,O._get)(e,"start").getTime()}))),a=Math.max.apply(Math,r(i.props.items.map(function(e){return(0,O._get)(e,"end").getTime()}))),n&&a||(n=(new Date).getTime()-6048e5,a=(new Date).getTime()+6048e5),i.props.onTimeInit&&i.props.onTimeInit(n,a)),i.state={width:1e3,visibleTimeStart:n,visibleTimeEnd:a,canvasTimeStart:n-(a-n),selectedItem:null,dragTime:null,dragGroupTitle:null,resizeTime:null,isDragging:!1,topOffset:0,resizingItem:null,resizingEdge:null};var p=i.stackItems(e.items,e.groups,i.state.canvasTimeStart,i.state.visibleTimeStart,i.state.visibleTimeEnd,i.state.width),u=p.dimensionItems,l=p.height,c=p.groupHeights,d=p.groupTops;return i.state.dimensionItems=u,i.state.height=l,i.state.groupHeights=c,i.state.groupTops=d,i}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.resize(this.props),this.resizeEventListener={handleEvent:function(t){e.resize(e.props)}},window.addEventListener("resize",this.resizeEventListener),this.lastTouchDistance=null,this.refs.scrollComponent.addEventListener("touchstart",this.touchStart),this.refs.scrollComponent.addEventListener("touchmove",this.touchMove),this.refs.scrollComponent.addEventListener("touchend",this.touchEnd)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeEventListener),this.refs.scrollComponent.removeEventListener("touchstart",this.touchStart),this.refs.scrollComponent.removeEventListener("touchmove",this.touchMove),this.refs.scrollComponent.removeEventListener("touchend",this.touchEnd)}},{key:"resize",value:function(e){var t=this.refs.container.getBoundingClientRect(),i=t.width,n=t.top,r=i-e.sidebarWidth-e.rightSidebarWidth,o=this.stackItems(e.items,e.groups,this.state.canvasTimeStart,this.state.visibleTimeStart,this.state.visibleTimeEnd,r),s=o.dimensionItems,a=o.height,p=o.groupHeights,u=o.groupTops;this.setState({width:r,topOffset:n+window.pageYOffset,dimensionItems:s,height:a,groupHeights:p,groupTops:u}),this.refs.scrollComponent.scrollLeft=r}},{key:"componentWillReceiveProps",value:function(e){var t=e.visibleTimeStart,i=e.visibleTimeEnd,n=e.items,r=e.groups,o=e.sidebarWidth;t&&i?this.updateScrollCanvas(t,i,n!==this.props.items||r!==this.props.groups,n,r):n===this.props.items&&r===this.props.groups||this.updateDimensions(n,r),o&&n&&r&&this.resize(e)}},{key:"updateDimensions",value:function(e,t){var i=this.state,n=i.canvasTimeStart,r=i.visibleTimeStart,o=i.visibleTimeEnd,s=i.width,a=this.stackItems(e,t,n,r,o,s),p=a.dimensionItems,u=a.height,l=a.groupHeights,c=a.groupTops;this.setState({dimensionItems:p,height:u,groupHeights:l,groupTops:c})}},{key:"zoomIn",value:function(e){e.preventDefault(),this.changeZoom(.75)}},{key:"zoomOut",value:function(e){e.preventDefault(),this.changeZoom(1.25)}},{key:"changeZoom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,i=this.props,n=i.minZoom,r=i.maxZoom,o=this.state.visibleTimeEnd-this.state.visibleTimeStart,s=Math.min(Math.max(Math.round(o*e),n),r),a=Math.round(this.state.visibleTimeStart+(o-s)*t);this.props.onTimeChange.bind(this)(a,a+s,this.updateScrollCanvas)}},{key:"rowAndTimeFromEvent",value:function(e){var t=this.props,i=t.lineHeight,n=t.dragSnap,r=this.state,o=r.width,s=r.visibleTimeStart,a=r.visibleTimeEnd,p=(0,O.getParentPosition)(e.currentTarget),u=e.clientX-p.x,l=e.clientY-p.y,c=Math.floor((l-2*i)/i),d=Math.round(s+u/o*(a-s));return d=Math.floor(d/n)*n,[c,d]}},{key:"todayLine",value:function(e,t,i,n,r,o,s){return c.default.createElement(k.default,{canvasTimeStart:e,canvasTimeEnd:i,canvasWidth:n,lineHeight:this.props.lineHeight,lineCount:(0,O._length)(this.props.groups),height:o,headerHeight:s})}},{key:"cursorLine",value:function(e,t,i,n,r,o,s,a){return c.default.createElement(z.default,{cursorTime:e,canvasTimeStart:t,canvasTimeEnd:n,canvasWidth:r,lineHeight:this.props.lineHeight,lineCount:(0,O._length)(this.props.groups),height:s,headerHeight:a})}},{key:"verticalLines",value:function(e,t,i,n,r,o,s,a){return c.default.createElement(C.default,{canvasTimeStart:e,canvasTimeEnd:i,canvasWidth:n,lineHeight:this.props.lineHeight,lineCount:(0,O._length)(this.props.groups),minUnit:r,timeSteps:o,fixedHeader:this.props.fixedHeader,height:s,headerHeight:a})}},{key:"horizontalLines",value:function(e,t,i,n,r,o){return c.default.createElement(R.default,{canvasWidth:n,lineHeight:this.props.lineHeight,lineCount:(0,O._length)(this.props.groups),groups:this.props.groups,groupHeights:r,headerHeight:o})}},{key:"items",value:function(e,t,i,n,r,o,s,a){return c.default.createElement(m.default,{canvasTimeStart:e,canvasTimeEnd:i,canvasWidth:n,lineHeight:this.props.lineHeight,lineCount:(0,O._length)(this.props.groups),dimensionItems:o,minUnit:r,groupHeights:s,groupTops:a,items:this.props.items,groups:this.props.groups,keys:this.props.keys,selectedItem:this.state.selectedItem,dragSnap:this.props.dragSnap,minResizeWidth:this.props.minResizeWidth,canChangeGroup:this.props.canChangeGroup,canMove:this.props.canMove,canResize:this.props.canResize,useResizeHandle:this.props.useResizeHandle,canSelect:this.props.canSelect,moveResizeValidator:this.props.moveResizeValidator,topOffset:this.state.topOffset,itemSelect:this.selectItem,itemDrag:this.dragItem,itemDrop:this.dropItem,onItemDoubleClick:this.props.onItemDoubleClick,onItemContextMenu:this.props.onItemContextMenu,itemResizing:this.resizingItem,itemResized:this.resizedItem,itemRenderer:this.props.itemRenderer,selected:this.props.selected})}},{key:"infoLabel",value:function(){var e=null;return this.state.dragTime?e=(0,h.default)(this.state.dragTime).format("LLL")+", "+this.state.dragGroupTitle:this.state.resizeTime&&(e=(0,h.default)(this.state.resizeTime).format("LLL")),e?c.default.createElement(v.default,{label:e}):""}},{key:"header",value:function(e,t,i,n,r,o,s,a){return c.default.createElement(S.default,{canvasTimeStart:e,hasRightSidebar:this.props.rightSidebarWidth>0,canvasTimeEnd:i,canvasWidth:n,lineHeight:this.props.lineHeight,minUnit:r,timeSteps:o,headerLabelGroupHeight:s,headerLabelHeight:a,width:this.state.width,zoom:t,visibleTimeStart:this.state.visibleTimeStart,visibleTimeEnd:this.state.visibleTimeEnd,fixedHeader:this.props.fixedHeader,zIndex:this.props.zIndexStart+1,showPeriod:this.showPeriod})}},{key:"sidebar",value:function(e,t,i){return c.default.createElement(T.default,{groups:this.props.groups,groupRenderer:this.props.groupRenderer,keys:this.props.keys,width:this.props.sidebarWidth,lineHeight:this.props.lineHeight,groupHeights:t,height:e,headerHeight:i,fixedHeader:this.props.fixedHeader,zIndex:this.props.zIndexStart+2},this.props.sidebarContent||this.props.children)}},{key:"rightSidebar",value:function(e,t,i){return c.default.createElement(T.default,{groups:this.props.groups,keys:this.props.keys,isRightSidebar:!0,width:this.props.rightSidebarWidth,lineHeight:this.props.lineHeight,groupHeights:t,height:e,headerHeight:i,fixedHeader:this.props.fixedHeader,zIndex:this.props.zIndexStart+2},this.props.rightSidebarContent)}},{key:"stackItems",value:function e(t,i,n,r,o,s){var a=this.props,p=a.keys,u=a.dragSnap,l=a.lineHeight,c=a.headerLabelGroupHeight,d=a.headerLabelHeight,e=a.stackItems,h=a.fullUpdate,f=a.itemHeightRatio,m=this.state,g=m.draggingItem,v=m.dragTime,y=m.resizingItem,T=m.resizingEdge,b=m.resizeTime,S=m.newGroupOrder,P=o-r,C=n+3*P,w=3*s,R=c+d,M=(0,O.getVisibleItems)(t,n,C,p),k=(0,O.getGroupOrders)(i,p),E=M.map(function(e){return{id:(0,O._get)(e,p.itemIdKey),dimensions:(0,O.calculateDimensions)({item:e,order:k[(0,O._get)(e,p.itemGroupKey)],keys:p,canvasTimeStart:n,canvasTimeEnd:C,canvasWidth:w,dragSnap:u,lineHeight:l,draggingItem:g,dragTime:v,resizingItem:y,resizingEdge:T,resizeTime:b,newGroupOrder:S,itemHeightRatio:f,fullUpdate:h,visibleTimeStart:r,visibleTimeEnd:o})}}).filter(function(e){return e.dimensions}),z=e?O.stack:O.nostack,x=z(E,k,l,R),_=x.height,H=x.groupHeights,I=x.groupTops;return{dimensionItems:E,height:_,groupHeights:H,groupTops:I}}},{key:"render",value:function(){var e=this.props,t=e.items,i=e.groups,n=e.headerLabelGroupHeight,r=e.headerLabelHeight,o=e.sidebarWidth,s=e.rightSidebarWidth,a=e.timeSteps,p=e.showCursorLine,u=this.state,l=u.draggingItem,d=u.resizingItem,h=u.isDragging,f=u.width,m=u.visibleTimeStart,g=u.visibleTimeEnd,v=u.canvasTimeStart,y=u.mouseOverCanvas,T=u.cursorTime,b=this.state,S=b.dimensionItems,P=b.height,C=b.groupHeights,w=b.groupTops,R=g-m,M=v+3*R,k=3*f,E=(0,O.getMinUnit)(R,f,a),z=n+r;if(l||d){var x=this.stackItems(t,i,v,m,g,f);S=x.dimensionItems,P=x.height,C=x.groupHeights,w=x.groupTops}var _={height:P+"px"},H={width:f+"px",height:P+20+"px",cursor:h?"move":"default"},I={width:k+"px",height:P+"px"};return c.default.createElement("div",{style:this.props.style,ref:"container",className:"react-calendar-timeline"},c.default.createElement("div",{style:_,className:"rct-outer"},o>0?this.sidebar(P,C,z):null,c.default.createElement("div",{ref:"scrollComponent",className:"rct-scroll",style:H,onScroll:this.onScroll,onWheel:this.onWheel,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp},c.default.createElement("div",{ref:"canvasComponent",className:"rct-canvas",style:I,onDoubleClick:this.handleDoubleClick,onMouseEnter:this.handleCanvasMouseEnter,onMouseLeave:this.handleCanvasMouseLeave,onMouseMove:this.handleCanvasMouseMove,onContextMenu:this.handleCanvasContextMenu},this.items(v,R,M,k,E,S,C,w),this.verticalLines(v,R,M,k,E,a,P,z),this.horizontalLines(v,R,M,k,C,z),this.todayLine(v,R,M,k,E,P,z),y&&p?this.cursorLine(T,v,R,M,k,E,P,z):null,this.infoLabel(),this.header(v,R,M,k,E,a,n,r))),s>0?this.rightSidebar(P,C,z):null))}}]),t}(l.Component);H.propTypes={groups:l.PropTypes.oneOfType([l.PropTypes.array,l.PropTypes.object]).isRequired,items:l.PropTypes.oneOfType([l.PropTypes.array,l.PropTypes.object]).isRequired,sidebarWidth:l.PropTypes.number,sidebarContent:l.PropTypes.node,rightSidebarWidth:l.PropTypes.number,rightSidebarContent:l.PropTypes.node,dragSnap:l.PropTypes.number,minResizeWidth:l.PropTypes.number,fixedHeader:l.PropTypes.oneOf(["fixed","absolute","none"]),fullUpdate:l.PropTypes.bool,zIndexStart:l.PropTypes.number,lineHeight:l.PropTypes.number,headerLabelGroupHeight:l.PropTypes.number,headerLabelHeight:l.PropTypes.number,itemHeightRatio:l.PropTypes.number,minZoom:l.PropTypes.number,maxZoom:l.PropTypes.number,clickTolerance:l.PropTypes.number,canChangeGroup:l.PropTypes.bool,canMove:l.PropTypes.bool,canResize:l.PropTypes.oneOf([!0,!1,"left","right","both"]),useResizeHandle:l.PropTypes.bool,canSelect:l.PropTypes.bool,stackItems:l.PropTypes.bool,traditionalZoom:l.PropTypes.bool,showCursorLine:l.PropTypes.bool,itemTouchSendsClick:l.PropTypes.bool,onItemMove:l.PropTypes.func,onItemResize:l.PropTypes.func,onItemClick:l.PropTypes.func,onItemSelect:l.PropTypes.func,onItemDeselect:l.PropTypes.func,onCanvasClick:l.PropTypes.func,onItemDoubleClick:l.PropTypes.func,onItemContextMenu:l.PropTypes.func,onCanvasDoubleClick:l.PropTypes.func,onCanvasContextMenu:l.PropTypes.func,onCanvasMouseEnter:l.PropTypes.func,onCanvasMouseLeave:l.PropTypes.func,onCanvasMouseMove:l.PropTypes.func,moveResizeValidator:l.PropTypes.func,itemRenderer:l.PropTypes.func,groupRenderer:l.PropTypes.func,dayBackground:l.PropTypes.func,style:l.PropTypes.object,keys:l.PropTypes.object,timeSteps:l.PropTypes.object,defaultTimeStart:l.PropTypes.object,defaultTimeEnd:l.PropTypes.object,visibleTimeStart:l.PropTypes.number,visibleTimeEnd:l.PropTypes.number,onTimeChange:l.PropTypes.func,onTimeInit:l.PropTypes.func,onBoundsChange:l.PropTypes.func,children:l.PropTypes.node,selected:l.PropTypes.array},H.defaultProps={sidebarWidth:150,rightSidebarWidth:0,dragSnap:9e5,minResizeWidth:20,fixedHeader:"none",fullUpdate:!0,zIndexStart:10,lineHeight:30,headerLabelGroupHeight:30,headerLabelHeight:30,itemHeightRatio:.65,minZoom:36e5,maxZoom:15778368e4,clickTolerance:3,canChangeGroup:!0,canMove:!0,canResize:"right",useResizeHandle:!1,canSelect:!0,stackItems:!1,traditionalZoom:!1,showCursorLine:!1,onItemMove:null,onItemResize:null,onItemClick:null,onItemSelect:null,onItemDeselect:null,onCanvasClick:null,onItemDoubleClick:null,onItemContextMenu:null,onCanvasMouseEnter:null,onCanvasMouseLeave:null,onCanvasMouseMove:null,moveResizeValidator:null,dayBackground:null,defaultTimeStart:null,defaultTimeEnd:null,itemTouchSendsClick:!1,style:{},keys:x,timeSteps:_,visibleTimeStart:null,visibleTimeEnd:null,onTimeChange:function(e,t,i){i(e,t)},onTimeInit:null,onBoundsChange:null,children:null,selected:null};var I=function(){var e=this;this.touchStart=function(t){if(2===t.touches.length)t.preventDefault(),e.lastTouchDistance=Math.abs(t.touches[0].screenX-t.touches[1].screenX),e.singleTouchStart=null,e.lastSingleTouch=null;else if(1===t.touches.length&&"fixed"===e.props.fixedHeader){t.preventDefault();var i=t.touches[0].clientX,n=t.touches[0].clientY;e.lastTouchDistance=null,e.singleTouchStart={x:i,y:n,screenY:window.pageYOffset},e.lastSingleTouch={x:i,y:n,screenY:window.pageYOffset}}},this.touchMove=function(t){if(e.state.dragTime||e.state.resizeTime)return void t.preventDefault();if(e.lastTouchDistance&&2===t.touches.length){t.preventDefault();var i=Math.abs(t.touches[0].screenX-t.touches[1].screenX),n=(0,O.getParentPosition)(t.currentTarget),r=(t.touches[0].screenX+t.touches[1].screenX)/2-n.x;0!==i&&0!==e.lastTouchDistance&&(e.changeZoom(e.lastTouchDistance/i,r/e.state.width),e.lastTouchDistance=i)}else if(e.lastSingleTouch&&1===t.touches.length&&"fixed"===e.props.fixedHeader){t.preventDefault();var o=t.touches[0].clientX,s=t.touches[0].clientY,a=o-e.lastSingleTouch.x,p=o-e.singleTouchStart.x,u=s-e.singleTouchStart.y;e.lastSingleTouch={x:o,y:s};var l=3*Math.abs(p)>Math.abs(u),c=3*Math.abs(u)>Math.abs(p);0!==a&&l&&(e.refs.scrollComponent.scrollLeft-=a),c&&window.scrollTo(window.pageXOffset,e.singleTouchStart.screenY-u)}},this.touchEnd=function(t){e.lastTouchDistance&&(t.preventDefault(),e.lastTouchDistance=null),e.lastSingleTouch&&(t.preventDefault(),e.lastSingleTouch=null,e.singleTouchStart=null)},this.onScroll=function(){var t=e.refs.scrollComponent,i=e.state.canvasTimeStart,n=t.scrollLeft,r=e.state.visibleTimeEnd-e.state.visibleTimeStart,o=e.state.width,s=i+r*n/o;n<.5*e.state.width&&(e.setState({canvasTimeStart:e.state.canvasTimeStart-r}),t.scrollLeft+=e.state.width),n>1.5*e.state.width&&(e.setState({canvasTimeStart:e.state.canvasTimeStart+r}),t.scrollLeft-=e.state.width),e.state.visibleTimeStart===s&&e.state.visibleTimeEnd===s+r||e.props.onTimeChange.bind(e)(s,s+r,e.updateScrollCanvas)},this.updateScrollCanvas=function(t,i,n,r,o){var s=e.state.canvasTimeStart,a=e.state.visibleTimeEnd-e.state.visibleTimeStart,p=i-t,u=r||e.props.items,l=o||e.props.groups,c=e.props.fullUpdate,d={visibleTimeStart:t,visibleTimeEnd:i},h=!1,f=t>=s+.5*a&&t<=s+1.5*a&&i>=s+1.5*a&&i<=s+2.5*a;if(f){var m=Math.round(e.state.width*(t-s)/p);e.refs.scrollComponent.scrollLeft!==m&&(h=!0)}else h=!0;if(h&&(d.canvasTimeStart=t-p,e.refs.scrollComponent.scrollLeft=e.state.width,e.props.onBoundsChange&&e.props.onBoundsChange(d.canvasTimeStart,d.canvasTimeStart+3*p)),h||n||c){var g=d.canvasTimeStart?d.canvasTimeStart:s,v=e.stackItems(u,l,g,t,i,e.state.width,c),y=v.dimensionItems,T=v.height,b=v.groupHeights,S=v.groupTops;d.dimensionItems=y,d.height=T,d.groupHeights=b,d.groupTops=S}e.setState(d)},this.onWheel=function(t){var i=e.props.traditionalZoom;if(t.ctrlKey){t.preventDefault();var n=(0,O.getParentPosition)(t.currentTarget),r=t.clientX-n.x;e.changeZoom(1+t.deltaY/50,r/e.state.width)}else if(t.shiftKey){t.preventDefault();var o=e.refs.scrollComponent;o.scrollLeft+=t.deltaY}else if(t.altKey){var s=(0,O.getParentPosition)(t.currentTarget),a=t.clientX-s.x;e.changeZoom(1+t.deltaY/500,a/e.state.width)}else if("fixed"===e.props.fixedHeader&&(t.preventDefault(),0!==t.deltaX&&(i||(e.refs.scrollComponent.scrollLeft+=t.deltaX)),0!==t.deltaY&&(window.scrollTo(window.pageXOffset,window.pageYOffset+t.deltaY),i))){var p=(0,O.getParentPosition)(t.currentTarget),u=t.clientX-p.x;e.changeZoom(1+t.deltaY/50,u/e.state.width)}},this.showPeriod=function(t,i){var n=t.valueOf(),r=(0,h.default)(t).add(1,i).valueOf(),o=r-n;if(!(o<36e4)){if("year"!==i&&e.state.visibleTimeStart===n&&e.state.visibleTimeEnd===r){var s=(0,O.getNextUnit)(i);n=t.startOf(s).valueOf(),r=(0,h.default)(n).add(1,s),o=r-n}e.props.onTimeChange.bind(e)(n,n+o,e.updateScrollCanvas)}},this.selectItem=function(t,i,n){e.state.selectedItem===t||e.props.itemTouchSendsClick&&"touch"===i?t&&e.props.onItemClick&&e.props.onItemClick(t,n):(e.setState({selectedItem:t}),t&&e.props.onItemSelect?e.props.onItemSelect(t,n):null===t&&e.props.onItemDeselect&&e.props.onItemDeselect(n))},this.scrollAreaClick=function(t){if(!(0,O.hasSomeParentTheClass)(t.target,"rct-item"))if(e.state.selectedItem)e.selectItem(null);else if(e.props.onCanvasClick){var i=e.rowAndTimeFromEvent(t),n=p(i,2),r=n[0],o=n[1];if(r>=0&&r<e.props.groups.length){var s=(0,O._get)(e.props.groups[r],e.props.keys.groupIdKey);e.props.onCanvasClick(s,o,t)}}},this.dragItem=function(t,i,n){var r=e.props.groups[n],o=e.props.keys;e.setState({draggingItem:t,dragTime:i,newGroupOrder:n,dragGroupTitle:r?(0,O._get)(r,o.groupTitleKey):""})},this.dropItem=function(t,i,n){e.setState({draggingItem:null,dragTime:null,dragGroupTitle:null}),e.props.onItemMove&&e.props.onItemMove(t,i,n)},this.resizingItem=function(t,i,n){e.setState({resizingItem:t,resizingEdge:n,resizeTime:i})},this.resizedItem=function(t,i,n){e.setState({resizingItem:null,resizingEdge:null,resizeTime:null}),e.props.onItemResize&&e.props.onItemResize(t,i,n)},this.handleMouseDown=function(t){var i=e.state.topOffset,n=t.pageY,r=e.props,o=r.headerLabelGroupHeight,s=r.headerLabelHeight,a=o+s;n-i>a&&0===t.button&&e.setState({isDragging:!0,dragStartPosition:t.pageX,dragLastPosition:t.pageX})},this.handleMouseMove=function(t){!e.state.isDragging||e.state.draggingItem||e.state.resizingItem||(e.refs.scrollComponent.scrollLeft+=e.state.dragLastPosition-t.pageX,e.setState({dragLastPosition:t.pageX}))},this.handleMouseUp=function(t){var i=e.state.dragStartPosition;Math.abs(i-t.pageX)<=e.props.clickTolerance&&e.scrollAreaClick(t),e.setState({isDragging:!1,dragStartPosition:null,dragLastPosition:null})},this.handleCanvasMouseEnter=function(t){var i=e.props.showCursorLine;i&&e.setState({mouseOverCanvas:!0}),e.props.onCanvasMouseEnter&&e.props.onCanvasMouseEnter(t)},this.handleCanvasMouseLeave=function(t){var i=e.props.showCursorLine;i&&e.setState({mouseOverCanvas:!1}),e.props.onCanvasMouseLeave&&e.props.onCanvasMouseLeave(t)},this.handleCanvasMouseMove=function(t){var i=e.props.showCursorLine,n=e.state,r=n.canvasTimeStart,o=n.width,s=n.visibleTimeStart,a=n.visibleTimeEnd,p=n.cursorTime,u=a-s,l=r+3*u,c=3*o,d=t.pageX,h=(l-r)/c,f=e.refs.scrollComponent.getBoundingClientRect(),m=s+h*(d-f.left);e.props.dragSnap&&(m=Math.round(m/e.props.dragSnap)*e.props.dragSnap),e.props.onCanvasMouseMove&&e.props.onCanvasMouseMove(t),p!==m&&i&&e.setState({cursorTime:m,mouseOverCanvas:!0})},this.handleDoubleClick=function(t){var i=e.state,n=i.canvasTimeStart,r=i.width,o=i.visibleTimeStart,s=i.visibleTimeEnd,a=i.groupTops,p=i.topOffset,u=s-o,l=n+3*u,c=3*r,d=t.pageX,h=t.pageY,f=(l-n)/c,m=e.refs.scrollComponent.getBoundingClientRect(),g=o+f*(d-m.left);e.props.dragSnap&&(g=Math.round(g/e.props.dragSnap)*e.props.dragSnap);var v=0,y=!0,T=!1,b=void 0;try{for(var S,P=Object.keys(a)[Symbol.iterator]();!(y=(S=P.next()).done);y=!0){var C=S.value,w=a[C];if(!(h-p>w))break;v=parseInt(C,10)}}catch(e){T=!0,b=e}finally{try{!y&&P.return&&P.return()}finally{if(T)throw b}}e.props.onCanvasDoubleClick&&e.props.onCanvasDoubleClick(e.props.groups[v],g,t)},this.handleCanvasContextMenu=function(t){var i=e.state,n=i.canvasTimeStart,r=i.width,o=i.visibleTimeStart,s=i.visibleTimeEnd,a=i.groupTops,p=i.topOffset,u=s-o,l=n+3*u,c=3*r,d=t.pageX,h=t.pageY,f=(l-n)/c,m=e.refs.scrollComponent.getBoundingClientRect(),g=o+f*(d-m.left);e.props.dragSnap&&(g=Math.round(g/e.props.dragSnap)*e.props.dragSnap);var v=0,y=!0,T=!1,b=void 0;try{for(var S,P=Object.keys(a)[Symbol.iterator]();!(y=(S=P.next()).done);y=!0){var C=S.value,w=a[C];if(!(h-p>w))break;v=parseInt(C,10)}}catch(e){T=!0,b=e}finally{try{!y&&P.return&&P.return()}finally{if(T)throw b}}e.props.onCanvasContextMenu&&(t.preventDefault(),e.props.onCanvasContextMenu(e.props.groups[v],g,t))}};t.default=H},176:function(e,t){},178:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(2),l=n(u),c=i(179),d=n(c),h=i(181),f=function(e,t){var i=void 0!==(0,h._get)(e,"canResize")?(0,h._get)(e,"canResize"):t;return"left"===i||"both"===i},m=function(e,t){var i=void 0!==(0,h._get)(e,"canResize")?(0,h._get)(e,"canResize"):t;return"right"===i||"both"===i||i===!0},g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),p(t,[{key:"shouldComponentUpdate",value:function(e,t){return!((0,h.arraysEqual)(e.groups,this.props.groups)&&(0,h.arraysEqual)(e.items,this.props.items)&&e.keys===this.props.keys&&e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.selectedItem===this.props.selectedItem&&e.selected===this.props.selected&&e.lineHeight===this.props.lineHeight&&e.dragSnap===this.props.dragSnap&&e.minResizeWidth===this.props.minResizeWidth&&e.canChangeGroup===this.props.canChangeGroup&&e.canMove===this.props.canMove&&e.canResize===this.props.canResize&&e.canSelect===this.props.canSelect&&e.dimensionItems===this.props.dimensionItems&&e.topOffset===this.props.topOffset)}},{key:"getGroupOrders",value:function(){for(var e=this.props.keys.groupIdKey,t={},i=0;i<this.props.groups.length;i++)t[(0,h._get)(this.props.groups[i],e)]=i;return t}},{key:"isSelected",value:function(e,t){var i=this;if(!this.props.selected)return this.props.selectedItem===(0,h._get)(e,t);var n=function(){var n=(0,h._get)(e,t);return{v:i.props.selected.find(function(e){return e===n})}}();return"object"===("undefined"==typeof n?"undefined":a(n))?n.v:void 0}},{key:"getVisibleItems",value:function(e,t,i){var n=this.props.keys,r=n.itemTimeStartKey,o=n.itemTimeEndKey;return this.props.items.filter(function(i){return(0,h._get)(i,r)<=t&&(0,h._get)(i,o)>=e})}},{key:"render",value:function(){var e=this,t=this.props,i=t.canvasTimeStart,n=t.canvasTimeEnd,r=t.dimensionItems,o=this.props.keys,s=o.itemIdKey,a=o.itemGroupKey,p=this.getGroupOrders(),u=this.getVisibleItems(i,n,p),c=(0,h.keyBy)(r,"id");return l.default.createElement("div",{className:"rct-items"},u.filter(function(e){return c[(0,h._get)(e,s)]}).map(function(t){return l.default.createElement(d.default,{key:(0,h._get)(t,s),item:t,keys:e.props.keys,order:p[(0,h._get)(t,a)],dimensions:c[(0,h._get)(t,s)].dimensions,selected:e.isSelected(t,s),canChangeGroup:void 0!==(0,h._get)(t,"canChangeGroup")?(0,h._get)(t,"canChangeGroup"):e.props.canChangeGroup,canMove:void 0!==(0,h._get)(t,"canMove")?(0,h._get)(t,"canMove"):e.props.canMove,canResizeLeft:f(t,e.props.canResize),canResizeRight:m(t,e.props.canResize),canSelect:void 0!==(0,h._get)(t,"canSelect")?(0,h._get)(t,"canSelect"):e.props.canSelect,useResizeHandle:e.props.useResizeHandle,topOffset:e.props.topOffset,groupHeights:e.props.groupHeights,groupTops:e.props.groupTops,canvasTimeStart:e.props.canvasTimeStart,canvasTimeEnd:e.props.canvasTimeEnd,canvasWidth:e.props.canvasWidth,lineHeight:e.props.lineHeight,dragSnap:e.props.dragSnap,minResizeWidth:e.props.minResizeWidth,onResizing:e.props.itemResizing,onResized:e.props.itemResized,moveResizeValidator:e.props.moveResizeValidator,onDrag:e.props.itemDrag,onDrop:e.props.itemDrop,onItemDoubleClick:e.props.onItemDoubleClick,onContextMenu:e.props.onItemContextMenu,onSelect:e.props.itemSelect,itemRenderer:e.props.itemRenderer})}))}}]),t}(u.Component);g.propTypes={groups:u.PropTypes.oneOfType([u.PropTypes.array,u.PropTypes.object]).isRequired,items:u.PropTypes.oneOfType([u.PropTypes.array,u.PropTypes.object]).isRequired,canvasTimeStart:u.PropTypes.number.isRequired,canvasTimeEnd:u.PropTypes.number.isRequired,canvasWidth:u.PropTypes.number.isRequired,lineHeight:u.PropTypes.number.isRequired,dragSnap:u.PropTypes.number,minResizeWidth:u.PropTypes.number,selectedItem:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.number]),canChangeGroup:u.PropTypes.bool.isRequired,canMove:u.PropTypes.bool.isRequired,canResize:u.PropTypes.oneOf([!0,!1,"left","right","both"]),canSelect:u.PropTypes.bool,keys:u.PropTypes.object.isRequired,
moveResizeValidator:u.PropTypes.func,itemSelect:u.PropTypes.func,itemDrag:u.PropTypes.func,itemDrop:u.PropTypes.func,itemResizing:u.PropTypes.func,itemResized:u.PropTypes.func,onItemDoubleClick:u.PropTypes.func,onItemContextMenu:u.PropTypes.func,itemRenderer:u.PropTypes.func,selected:u.PropTypes.array},g.defaultProps={selected:[]},t.default=g},179:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},p=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(2),l=n(u),c=i(180),d=n(c),h=i(172),f=n(h),m=i(181),g=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.onMouseDown=function(e){i.state.interactMounted||(e.preventDefault(),i.startedClicking=!0)},i.onMouseUp=function(e){!i.state.interactMounted&&i.startedClicking&&(i.startedClicking=!1,i.actualClick(e,"click"))},i.onTouchStart=function(e){i.state.interactMounted||(e.preventDefault(),i.startedTouching=!0)},i.onTouchEnd=function(e){!i.state.interactMounted&&i.startedTouching&&(i.startedTouching=!1,i.actualClick(e,"touch"))},i.handleDoubleClick=function(e){e.preventDefault(),e.stopPropagation(),i.props.onItemDoubleClick&&i.props.onItemDoubleClick(i.itemId,e)},i.handleContextMenu=function(e){i.props.onContextMenu&&(e.preventDefault(),e.stopPropagation(),i.props.onContextMenu(i.itemId,e))},i.cacheDataFromProps(e),i.state={interactMounted:!1,dragging:null,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null,resizing:null,resizeEdge:null,resizeStart:null,resizeTime:null},i}return s(t,e),p(t,[{key:"shouldComponentUpdate",value:function(e,t){var i=t.dragging!==this.state.dragging||t.dragTime!==this.state.dragTime||t.dragGroupDelta!==this.state.dragGroupDelta||t.resizing!==this.state.resizing||t.resizeTime!==this.state.resizeTime||e.keys!==this.props.keys||!(0,m.deepObjectCompare)(e.itemProps,this.props.itemProps)||e.selected!==this.props.selected||e.item!==this.props.item||e.canvasTimeStart!==this.props.canvasTimeStart||e.canvasTimeEnd!==this.props.canvasTimeEnd||e.canvasWidth!==this.props.canvasWidth||e.lineHeight!==this.props.lineHeight||e.order!==this.props.order||e.dragSnap!==this.props.dragSnap||e.minResizeWidth!==this.props.minResizeWidth||e.selected!==this.props.selected||e.canChangeGroup!==this.props.canChangeGroup||e.canSelect!==this.props.canSelect||e.topOffset!==this.props.topOffset||e.canMove!==this.props.canMove||e.canResizeLeft!==this.props.canResizeLeft||e.canResizeRight!==this.props.canResizeRight||e.dimensions!==this.props.dimensions;return i}},{key:"cacheDataFromProps",value:function(e){this.itemId=(0,m._get)(e.item,e.keys.itemIdKey),this.itemTitle=(0,m._get)(e.item,e.keys.itemTitleKey),this.itemDivTitle=e.keys.itemDivTitleKey?(0,m._get)(e.item,e.keys.itemDivTitleKey):this.itemTitle,this.itemTimeStart=(0,m._get)(e.item,e.keys.itemTimeStartKey),this.itemTimeEnd=(0,m._get)(e.item,e.keys.itemTimeEndKey)}},{key:"coordinateToTimeRatio",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return(e.canvasTimeEnd-e.canvasTimeStart)/e.canvasWidth}},{key:"dragTimeSnap",value:function(e,t){var i=this.props.dragSnap;if(i){var n=t?60*(0,f.default)().utcOffset()*1e3:0;return Math.round(e/i)*i-n%i}return e}},{key:"resizeTimeSnap",value:function(e){var t=this.props.dragSnap;if(t){var i=this.itemTimeEnd%t;return Math.round((e-i)/t)*t+i}return e}},{key:"dragTime",value:function(e){var t=this.itemTimeStart;if(this.state.dragging){var i=e.pageX-this.state.dragStart.x,n=i*this.coordinateToTimeRatio();return this.dragTimeSnap(t+n,!0)}return t}},{key:"dragGroupDelta",value:function(e){var t=this.props,i=t.groupTops,n=t.order,r=t.topOffset;if(this.state.dragging){if(!this.props.canChangeGroup)return 0;var o=0,s=!0,a=!1,p=void 0;try{for(var u,l=Object.keys(i)[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var c=u.value,d=i[c];if(!(e.pageY-r>d))break;o=parseInt(c,10)-n}}catch(e){a=!0,p=e}finally{try{!s&&l.return&&l.return()}finally{if(a)throw p}}return this.props.order+o<0?0-this.props.order:o}return 0}},{key:"resizeTimeDelta",value:function(e,t){var i=this.itemTimeEnd-this.itemTimeStart,n=this.dragTimeSnap((e.pageX-this.state.resizeStart)*this.coordinateToTimeRatio());return i+("left"===t?-n:n)<(this.props.dragSnap||1e3)?"left"===t?i-(this.props.dragSnap||1e3):(this.props.dragSnap||1e3)-i:n}},{key:"componentDidMount",value:function(){}},{key:"mountInteract",value:function(){var e=this,t=!this.props.useResizeHandle||this.refs.dragLeft,i=!this.props.useResizeHandle||this.refs.dragRight;(0,d.default)(this.refs.item).resizable({edges:{left:this.canResizeLeft()&&t,right:this.canResizeRight()&&i,top:!1,bottom:!1},enabled:this.props.selected&&(this.canResizeLeft()||this.canResizeRight())}).draggable({enabled:this.props.selected}).styleCursor(!1).on("dragstart",function(t){return!!e.props.selected&&void e.setState({dragging:!0,dragStart:{x:t.pageX,y:t.pageY},preDragPosition:{x:t.target.offsetLeft,y:t.target.offsetTop},dragTime:e.itemTimeStart,dragGroupDelta:0})}).on("dragmove",function(t){if(e.state.dragging){var i=e.dragTime(t),n=e.dragGroupDelta(t);e.props.moveResizeValidator&&(i=e.props.moveResizeValidator("move",e.props.item,i)),e.props.onDrag&&e.props.onDrag(e.itemId,i,e.props.order+n),e.setState({dragTime:i,dragGroupDelta:n})}}).on("dragend",function(t){if(e.state.dragging){if(e.props.onDrop){var i=e.dragTime(t);e.props.moveResizeValidator&&(i=e.props.moveResizeValidator("move",e.props.item,i)),e.props.onDrop(e.itemId,i,e.props.order+e.dragGroupDelta(t))}e.setState({dragging:!1,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null})}}).on("resizestart",function(t){return!!e.props.selected&&void e.setState({resizing:!0,resizeEdge:null,resizeStart:t.pageX,resizeTime:0})}).on("resizemove",function(t){if(e.state.resizing){var i=e.state.resizeEdge;i||(i=0!==t.deltaRect.left?"left":"right",e.setState({resizeEdge:i}));var n="left"===i?e.itemTimeStart:e.itemTimeEnd,r=e.resizeTimeSnap(n+e.resizeTimeDelta(t,i));e.props.moveResizeValidator&&(r=e.props.moveResizeValidator("resize",e.props.item,r,i)),e.props.onResizing&&e.props.onResizing(e.itemId,r,i),e.setState({resizeTime:r})}}).on("resizeend",function(t){if(e.state.resizing){var i=e.state.resizeEdge,n="left"===i?e.itemTimeStart:e.itemTimeEnd,r=e.resizeTimeSnap(n+e.resizeTimeDelta(t,i));e.props.moveResizeValidator&&(r=e.props.moveResizeValidator("resize",e.props.item,r,i)),e.props.onResized&&0!==e.resizeTimeDelta(t,i)&&e.props.onResized(e.itemId,r,i),e.setState({resizing:null,resizeStart:null,resizeEdge:null,resizeTime:null})}}).on("tap",function(t){e.actualClick(t,"mouse"===t.pointerType?"click":"touch")}),this.setState({interactMounted:!0})}},{key:"canResizeLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(!e.canResizeLeft||e.dimensions.clippedLeft)return!1;var t=parseInt(e.dimensions.width,10);return t>=e.minResizeWidth}},{key:"canResizeRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(!e.canResizeRight||e.dimensions.clippedRight)return!1;var t=parseInt(e.dimensions.width,10);return t>=e.minResizeWidth}},{key:"canMove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return!!e.canMove}},{key:"componentWillReceiveProps",value:function(e){this.cacheDataFromProps(e);var t=this.state.interactMounted,i=this.props.selected&&this.canMove(this.props),n=this.props.selected&&this.canResizeLeft(this.props),r=this.props.selected&&this.canResizeRight(this.props),o=e.selected&&this.canMove(e),s=e.selected&&this.canResizeLeft(e),a=e.selected&&this.canResizeRight(e);if(e.selected&&!t&&(this.mountInteract(),t=!0),t&&(n!==s||r!==a)){var p=!this.props.useResizeHandle||this.refs.dragLeft,u=!this.props.useResizeHandle||this.refs.dragRight;(0,d.default)(this.refs.item).resizable({enabled:s||a,edges:{top:!1,bottom:!1,left:s&&p,right:a&&u}})}t&&i!==o&&(0,d.default)(this.refs.item).draggable({enabled:o})}},{key:"actualClick",value:function(e,t){this.props.canSelect&&this.props.onSelect&&this.props.onSelect(this.itemId,t,e)}},{key:"renderContent",value:function(){var e=this.props.itemRenderer;return e?l.default.createElement(e,{item:this.props.item}):this.itemTitle}},{key:"render",value:function(){var e=this.props.dimensions;if("undefined"==typeof this.props.order||null===this.props.order)return null;var t="rct-item"+(this.props.selected?" selected":"")+(this.canMove(this.props)?" can-move":"")+(this.canResizeLeft(this.props)||this.canResizeRight(this.props)?" can-resize":"")+(this.canResizeLeft(this.props)?" can-resize-left":"")+(this.canResizeRight(this.props)?" can-resize-right":"")+(this.props.item.className?" "+this.props.item.className:"")+(e.clippedLeft?" clipped-left":"")+(e.clippedRight?" clipped-right":""),i={left:e.left+"px",top:e.top+"px",width:e.width+"px",height:e.height+"px",lineHeight:e.height+"px"};return l.default.createElement("div",a({},this.props.item.itemProps,{key:this.itemId,ref:"item",className:t,title:this.itemDivTitle,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu,style:i}),this.props.useResizeHandle?l.default.createElement("div",{ref:"dragLeft",className:"rct-drag-left"}):"",l.default.createElement("div",{className:"rct-item-overflow"},l.default.createElement("div",{className:"rct-item-content"},this.renderContent())),this.props.useResizeHandle?l.default.createElement("div",{ref:"dragRight",className:"rct-drag-right"}):"")}}]),t}(u.Component);g.propTypes={},g.defaultProps={selected:!1},t.default=g},181:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return"function"==typeof e.get?e.get(t):e[t]}function o(e){return"function"==typeof e.count?e.count():e.length}function s(e,t){return o(e)===o(t)&&e.every(function(e,i){return e===r(t,i)})}function a(e,t,i,n,r){var o=(0,w.default)(e).startOf(i);if(n[i]&&n[i]>1){var s=o.get(i);o.set(i,s-s%n[i])}for(;o.valueOf()<t;){var a=(0,w.default)(o).add(n[i]||1,i+"s");r(o,a),o=a}}function p(e,t,i){var n={second:1e3,minute:60,hour:60,day:24,month:30,year:12},r="year",o=e,s=17;return Object.keys(n).some(function(e){o/=n[e];var a=o/i[e],p=t/(i[e]&&i[e]>1?3*s:s);if(a<p)return r=e,!0}),r}function u(e){var t={second:"minute",minute:"hour",hour:"day",day:"month",month:"year"};return t[e]||""}function l(e){for(var t=0,i=0,n=!0;e;)t+=e.offsetLeft-(n?0:e.scrollLeft)+e.clientLeft,i+=e.offsetTop-(n?0:e.scrollTop)+e.clientTop,e=e.offsetParent,n=!1;return{x:t,y:i}}function c(e,t,i){return(t-e)/i}function d(e){var t=e.item,i=e.order,n=e.keys,o=e.canvasTimeStart,s=e.canvasTimeEnd,a=e.canvasWidth,p=e.dragSnap,u=e.lineHeight,l=e.draggingItem,d=e.dragTime,h=e.resizingItem,f=e.resizingEdge,m=e.resizeTime,g=e.newGroupOrder,v=e.itemHeightRatio,y=e.fullUpdate,T=e.visibleTimeStart,b=e.visibleTimeEnd,S=r(t,n.itemIdKey),P=r(t,n.itemTimeStartKey),C=r(t,n.itemTimeEndKey),w=S===l,R=S===h,M=R&&"left"===f?m:P,k=R&&"right"===f?m:C,E=w?d:M,z=Math.max(k-M,p),O=M,x=z;w&&(P>=d?(O=d,x=Math.max(C-d,p)):x=Math.max(d-P+z,p));var _=!1,H=!1;if(y){if(!w&&(T>E+z||b<E))return null;T>E&&(z-=T-E,E=T,w&&z<0&&(E+=z,z=0),_=!0),E+z>b&&(z-=E+z-b,H=!0)}var I=1/c(o,s,a),D=u*v,L={left:(E-o)*I,top:null,width:Math.max(z*I,3),height:D,order:w?g:i,stack:!t.isOverlay,collisionLeft:O,originalLeft:P,collisionWidth:x,lineHeight:u,isDragging:w,clippedLeft:_,clippedRight:H};return L}function h(e,t){for(var i=t.groupIdKey,n={},o=0;o<e.length;o++)n[r(e[o],i)]=o;return n}function f(e,t,i,n){var o=n.itemTimeStartKey,s=n.itemTimeEndKey;return e.filter(function(e){return r(e,o)<=i&&r(e,s)>=t})}function m(e,t,i){var n=0;return e.collisionLeft+R<t.collisionLeft+t.collisionWidth&&e.collisionLeft+e.collisionWidth-R>t.collisionLeft&&e.top-n+R<t.top+t.height&&e.top+e.height+n-R>t.top}function g(e,t,i,n,r){var o,s,a=n,p={},u={},l=T(e,t);if(r)for(o=0,s=e.length;o<s;o++)e[o].dimensions.top=null;return l.forEach(function(e,t,n){u[t]=a;var r=0,l=0;for(o=0,s=e.length;o<s;o++){var c=e[o];if(l=c.dimensions.lineHeight-c.dimensions.height,c.dimensions.stack&&null===c.dimensions.top){c.dimensions.top=a+l,r=Math.max(r,c.dimensions.lineHeight);do{for(var d=null,h=0,f=e.length;h<f;h++){var g=e[h];if(null!==g.dimensions.top&&g!==c&&g.dimensions.stack&&m(c.dimensions,g.dimensions,c.dimensions.lineHeight)){d=g;break}}null!=d&&(c.dimensions.top=d.dimensions.top+d.dimensions.lineHeight,r=Math.max(r,c.dimensions.top+c.dimensions.height-a))}while(d)}}p[t]=Math.max(r+l,i),a+=Math.max(r+l,i)}),{height:a,groupHeights:p,groupTops:u}}function v(e,t,i,n,r){var o,s,a=n,p={},u={},l=T(e,t);if(r)for(o=0,s=e.length;o<s;o++)e[o].dimensions.top=null;return l.forEach(function(e,t,n){u[t]=a;var r=0;for(o=0,s=e.length;o<s;o++){var l=e[o],c=(l.dimensions.lineHeight-l.dimensions.height)/2;null===l.dimensions.top&&(l.dimensions.top=a+c,r=Math.max(r,l.dimensions.lineHeight))}p[t]=Math.max(r,i),a+=Math.max(r,i)}),{height:a,groupHeights:p,groupTops:u}}function y(e,t){var i={};return e.forEach(function(e,n,r){i[e[t]]=e}),i}function T(e,t){for(var i=[],n=0;n<Object.keys(t).length;n++)i[n]=[];for(var r=0;r<e.length;r++)i[e[r].dimensions.order].push(e[r]);return i}function b(e,t){return!!(e.className&&e.className.split(" ").indexOf(t)>=0)||e.parentNode&&b(e.parentNode,t)}function S(e,t){for(var i in e){if(e.hasOwnProperty(i)!==t.hasOwnProperty(i))return!1;switch(P(e[i])){case"object":if(!Object.compare(e[i],t[i]))return!1;break;case"function":if("undefined"==typeof t[i]||"compare"!==i&&e[i].toString()!==t[i].toString())return!1;break;default:if(e[i]!==t[i])return!1}}for(var n in t)if("undefined"==typeof e[n])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t._get=r,t._length=o,t.arraysEqual=s,t.iterateTimes=a,t.getMinUnit=p,t.getNextUnit=u,t.getParentPosition=l,t.coordinateToTimeRatio=c,t.calculateDimensions=d,t.getGroupOrders=h,t.getVisibleItems=f,t.collision=m,t.stack=g,t.nostack=v,t.keyBy=y,t.getGroupedItems=T,t.hasSomeParentTheClass=b,t.deepObjectCompare=S;var C=i(172),w=n(C),R=.001},182:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=i(2),u=n(p),l=i(183),c=n(l),d=function(e){function t(){var e,i,n,s;r(this,t);for(var a=arguments.length,p=Array(a),u=0;u<a;u++)p[u]=arguments[u];return i=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),n.shouldComponentUpdate=c.default,s=i,o(n,s)}return s(t,e),a(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"rct-infolabel"},this.props.label)}}]),t}(p.Component);t.default=d,d.propTypes={label:u.default.PropTypes.string.isRequired},d.defaultProps={label:""}},183:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return!(0,s.default)(this.props,e)||!(0,s.default)(this.state,t)}t.__esModule=!0,t.default=r;var o=i(184),s=n(o);e.exports=t.default},184:function(e,t){"use strict";function i(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(var r=Object.prototype.hasOwnProperty.bind(t),o=0;o<i.length;o++)if(!r(i[o])||e[i[o]]!==t[i[o]])return!1;return!0}t.__esModule=!0,t.default=i,e.exports=t.default},185:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=i(2),u=n(p),l=i(181),c=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={scrollTop:0,componentTop:0},i}return s(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return!("absolute"!==e.fixedHeader||!window||!window.document||this.state.scrollTop===t.scrollTop)||!((0,l.arraysEqual)(e.groups,this.props.groups)&&e.keys===this.props.keys&&e.width===this.props.width&&e.lineHeight===this.props.lineHeight&&e.fixedHeader===this.props.fixedHeader&&e.zIndex===this.props.zIndex&&e.groupHeights===this.props.groupHeights&&e.height===this.props.height)}},{key:"scroll",value:function e(t){if("absolute"===this.props.fixedHeader&&window&&window.document){var e=window.document.body.scrollTop;this.setState({scrollTop:e})}}},{key:"setComponentTop",value:function(){var e=this.refs.sidebar.getBoundingClientRect();this.setState({componentTop:e.top})}},{key:"componentDidMount",value:function(){var e=this;this.setComponentTop(),this.scroll(),this.scrollEventListener={handleEvent:function(t){e.scroll()}},window.addEventListener("scroll",this.scrollEventListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollEventListener)}},{key:"componentWillReceiveProps",value:function(){this.setComponentTop()}},{key:"renderGroupContent",value:function(e,t,i,n){return this.props.groupRenderer?u.default.createElement(this.props.groupRenderer,{group:e,isRightSidebar:t}):(0,l._get)(e,t?n:i)}},{key:"render",value:function(){var e=this,t=this.props,i=t.fixedHeader,n=t.width,r=t.lineHeight,o=t.zIndex,s=t.groupHeights,a=t.height,p=t.headerHeight,c=t.isRightSidebar,d=this.props.keys,h=d.groupIdKey,f=d.groupTitleKey,m=d.groupRightTitleKey,g=this.state.scrollTop,v={width:n+"px",height:a+"px"},y={height:p+"px",lineHeight:r+"px",width:n+"px"},T={width:n+"px"};if("fixed"===i)y.position="fixed",y.zIndex=o,T.paddingTop=y.height;else if("absolute"===i){var b=this.state.componentTop;g>=b&&(y.position="absolute",y.top=g-b+"px",y.left="0",T.paddingTop=y.height)}var S=u.default.createElement("div",{ref:"sidebarHeader",className:"rct-sidebar-header",style:y},this.props.children),P=[],C=0;return this.props.groups.forEach(function(t,i){var n={height:s[i]-1+"px",lineHeight:s[i]-1+"px"};P.push(u.default.createElement("div",{key:(0,l._get)(t,h),className:"rct-sidebar-row"+(C%2===0?" rct-sidebar-row-even":" rct-sidebar-row-odd"),style:n},e.renderGroupContent(t,c,f,m))),C+=1}),u.default.createElement("div",{ref:"sidebar",className:"rct-sidebar"+(c?" rct-sidebar-right":""),style:v},S,u.default.createElement("div",{style:T},P))}}]),t}(p.Component);t.default=c,c.propTypes={groups:u.default.PropTypes.oneOfType([u.default.PropTypes.array,u.default.PropTypes.object]).isRequired,width:u.default.PropTypes.number.isRequired,lineHeight:u.default.PropTypes.number.isRequired,zIndex:u.default.PropTypes.number,fixedHeader:u.default.PropTypes.oneOf(["fixed","absolute","none"]),keys:u.default.PropTypes.object.isRequired,groupRenderer:u.default.PropTypes.func,children:u.default.PropTypes.node,isRightSidebar:u.default.PropTypes.bool},c.defaultProps={fixedHeader:"none",zIndex:12,children:null,isRightSidebar:!1}},186:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=i(2),u=n(p),l=i(172),c=n(l),d=i(181),h=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.periodClick=function(e){var t=e.target.dataset,n=t.time,r=t.unit;n&&r&&i.props.showPeriod((0,c.default)(n-0),r)},i.touchStart=function(e){1===e.touches.length&&i.setState({touchTarget:e.target||e.touchTarget,touchActive:!0})},i.touchEnd=function(e){if(!i.state.touchActive)return i.resetTouchState();var t=e.changedTouches[0];if(t){var n=document.elementFromPoint(t.pageX,t.pageY);if(n!==i.state.touchTarget)return i.resetTouchState()}i.resetTouchState(),i.periodClick(e)},i.state={scrollTop:0,componentTop:0,touchTarget:null,touchActive:!1},i}return s(t,e),a(t,[{key:"scroll",value:function e(t){if("absolute"===this.props.fixedHeader&&window&&window.document){var e=window.document.body.scrollTop;this.setState({scrollTop:e})}}},{key:"setComponentTop",value:function(){var e=this.refs.header.getBoundingClientRect();this.setState({componentTop:e.top})}},{key:"componentDidMount",value:function(){var e=this;this.setComponentTop(),this.scroll(),this.scrollEventListener={handleEvent:function(t){e.scroll()}},window.addEventListener("scroll",this.scrollEventListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollEventListener)}},{key:"componentWillReceiveProps",value:function(){this.setComponentTop()}},{key:"headerLabel",value:function(e,t,i){return"year"===t?e.format(i<46?"YY":"YYYY"):"month"===t?e.format(i<65?"MM/YY":i<75?"MM/YYYY":i<120?"MMM YYYY":"MMMM YYYY"):"day"===t?e.format(i<150?"L":"dddd, LL"):"hour"===t?e.format(i<50?"HH":i<130?"HH:00":i<150?"L, HH:00":"dddd, LL, HH:00"):e.format("LLL")}},{key:"subHeaderLabel",value:function(e,t,i){return"year"===t?e.format(i<46?"YY":"YYYY"):"month"===t?e.format(i<37?"MM":i<85?"MMM":"MMMM"):"day"===t?e.format(i<47?"D":i<80?"dd D":i<120?"ddd, Do":"dddd, Do"):"hour"===t?e.format(i<50?"HH":"HH:00"):"minute"===t?e.format(i<60?"mm":"HH:mm"):e.get(t)}},{key:"resetTouchState",value:function(){this.setState({touchTarget:null,touchActive:!1})}},{key:"render",value:function(){var e=this,t=[],i=this.props,n=i.canvasTimeStart,r=i.canvasTimeEnd,o=i.canvasWidth,s=i.lineHeight,a=i.visibleTimeStart,p=i.visibleTimeEnd,l=i.minUnit,c=i.timeSteps,h=i.fixedHeader,f=i.headerLabelGroupHeight,m=i.headerLabelHeight,g=i.hasRightSidebar,v=i.width,y=this.state.scrollTop,T=o/(r-n),b="year"!==l;b&&!function(){var i=(0,d.getNextUnit)(l);(0,d.iterateTimes)(a,p,i,c,function(r,o){var s=Math.max(a,r.valueOf()),l=Math.min(p,o.valueOf()),c=Math.round((s.valueOf()-n)*T,-2),d=Math.round((l.valueOf()-n)*T,-2),m=d-c,v="fixed"===h?Math.round((n-a)*T)-1:0;t.push(u.default.createElement("div",{key:"top-label-"+r.valueOf(),href:"#",className:"rct-label-group"+(g?" rct-has-right-sidebar":""),"data-time":r,"data-unit":i,style:{left:c+v+"px",width:m+"px",height:f+"px",lineHeight:f+"px",cursor:"pointer"}},e.headerLabel(r,i,m)))})}(),(0,d.iterateTimes)(n,r,l,c,function(i,r){var o=Math.round((i.valueOf()-n)*T,-2),s=i.get("day"===l?"date":l),p=s===("day"===l?1:0),c=Math.round((r.valueOf()-i.valueOf())*T,-2),d=p?2:1,g="fixed"===h?Math.round((n-a)*T)-d+1:0;t.push(u.default.createElement("div",{key:"label-"+i.valueOf(),href:"#",className:"rct-label "+(b?"":"rct-label-only")+" "+(p?"rct-first-of-type":"")+" "+("month"!==l?"rct-day-"+i.day():"")+" ","data-time":i,"data-unit":l,style:{top:("year"===l?0:f)+"px",left:o+g+"px",width:c+"px",height:("year"===l?f+m:m)+"px",lineHeight:("year"===l?f+m:m)+"px",fontSize:(c>30?"14":c>20?"12":"10")+"px",cursor:"pointer"}},e.subHeaderLabel(i,l,c)))});var S=this.props.zIndex,P={height:f+m+"px",lineHeight:s+"px"};if("fixed"===h)P.position="fixed",P.width=v+"px",P.zIndex=S;else if("absolute"===h){var C=this.state.componentTop;y>=C&&(P.position="absolute",P.top=y-C+"px",P.width=o+"px",P.left="0")}return u.default.createElement("div",{ref:"header",key:"header",className:"rct-header",onTouchStart:this.touchStart,onTouchEnd:this.touchEnd,onClick:this.periodClick,style:P},t)}}]),t}(p.Component);t.default=h,h.propTypes={hasRightSidebar:u.default.PropTypes.bool.isRequired,showPeriod:u.default.PropTypes.func.isRequired,canvasTimeStart:u.default.PropTypes.number.isRequired,canvasTimeEnd:u.default.PropTypes.number.isRequired,canvasWidth:u.default.PropTypes.number.isRequired,lineHeight:u.default.PropTypes.number.isRequired,visibleTimeStart:u.default.PropTypes.number.isRequired,visibleTimeEnd:u.default.PropTypes.number.isRequired,minUnit:u.default.PropTypes.string.isRequired,timeSteps:u.default.PropTypes.object.isRequired,width:u.default.PropTypes.number.isRequired,fixedHeader:u.default.PropTypes.oneOf(["fixed","absolute","none"]),zIndex:u.default.PropTypes.number},h.defaultProps={fixedHeader:"none",zIndex:11}},187:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=i(2),u=n(p),l=i(181),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.lineHeight===this.props.lineHeight&&e.lineCount===this.props.lineCount&&e.minUnit===this.props.minUnit&&e.timeSteps===this.props.timeSteps&&e.fixedHeader===this.props.fixedHeader&&e.height===this.props.height&&e.headerHeight===this.props.headerHeight)}},{key:"render",value:function(){var e=this,t=this.props,i=t.canvasTimeStart,n=t.canvasTimeEnd,r=t.canvasWidth,o=t.minUnit,s=t.timeSteps,a=t.height,p=t.headerHeight,c=r/(n-i),d=[];return(0,l.iterateTimes)(i,n,o,s,function(t,n){var r=Math.round((t.valueOf()-i)*c,-2),s=t.get("day"===o?"date":o),l=s===("day"===o?1:0),h=l?2:1,f=Math.ceil((n.valueOf()-t.valueOf())*c)-h,m="fixed"===e.props.fixedHeader&&l?-1:0,g="rct-vl"+(l?" rct-vl-first":"")+("day"===o||"hour"===o||"minute"===o?" rct-day-"+t.day():"");d.push(u.default.createElement("div",{key:"line-"+t.valueOf(),className:g,style:{top:p+"px",left:r+m+"px",width:f+"px",height:a-p+"px"}}))}),u.default.createElement("div",{className:"rct-vertical-lines"},d)}}]),t}(p.Component);t.default=c,c.propTypes={canvasTimeStart:u.default.PropTypes.number.isRequired,canvasTimeEnd:u.default.PropTypes.number.isRequired,canvasWidth:u.default.PropTypes.number.isRequired,lineHeight:u.default.PropTypes.number.isRequired,lineCount:u.default.PropTypes.number.isRequired,minUnit:u.default.PropTypes.string.isRequired,timeSteps:u.default.PropTypes.object.isRequired,fixedHeader:u.default.PropTypes.string.isRequired},c.defaultProps={fixedHeader:"none",dayBackground:null}},188:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=i(2),u=n(p),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e.canvasWidth===this.props.canvasWidth&&e.lineHeight===this.props.lineHeight&&e.lineCount===this.props.lineCount&&e.groupHeights===this.props.groupHeights)}},{key:"render",value:function(){for(var e=this.props,t=e.lineCount,i=e.canvasWidth,n=e.groupHeights,r=e.headerHeight,o=[],s=r,a=0;a<t;a++)o.push(u.default.createElement("div",{key:"horizontal-line-"+a,className:a%2===0?"rct-hl-even":"rct-hl-odd",style:{top:s+"px",left:"0px",width:i+"px",height:n[a]-1+"px"}})),s+=n[a];return u.default.createElement("div",{className:"rct-horizontal-lines"},o)}}]),t}(p.Component);t.default=l,l.propTypes={canvasWidth:u.default.PropTypes.number.isRequired,lineHeight:u.default.PropTypes.number.isRequired,lineCount:u.default.PropTypes.number.isRequired},l.defaultProps={
borderWidth:1}},189:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=i(2),u=n(p),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"render",value:function(){var e=(new Date).getTime();if(e>this.props.canvasTimeStart&&e<this.props.canvasTimeEnd){var t=this.props.canvasWidth/(this.props.canvasTimeEnd-this.props.canvasTimeStart),i=Math.round((e-this.props.canvasTimeStart)*t),n=this.props.headerHeight,r=this.props.height-this.props.headerHeight,o={top:n+"px",left:i+"px",height:r+"px"};return u.default.createElement("div",{className:"rct-today",style:o})}return u.default.createElement("div",null)}}]),t}(p.Component);t.default=l,l.propTypes={canvasTimeStart:u.default.PropTypes.number.isRequired,canvasTimeEnd:u.default.PropTypes.number.isRequired,canvasWidth:u.default.PropTypes.number.isRequired,lineHeight:u.default.PropTypes.number.isRequired,lineCount:u.default.PropTypes.number.isRequired},l.defaultProps={}},190:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=i(2),u=n(p),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"render",value:function(){var e=this.props.cursorTime;if(e>this.props.canvasTimeStart&&e<this.props.canvasTimeEnd){var t=this.props.canvasWidth/(this.props.canvasTimeEnd-this.props.canvasTimeStart),i=Math.round((e-this.props.canvasTimeStart)*t),n=this.props.headerHeight,r=this.props.height-this.props.headerHeight,o={top:n+"px",left:i+"px",height:r+"px"};return u.default.createElement("div",{className:"rct-cursor-line",style:o})}return u.default.createElement("div",null)}}]),t}(p.Component);l.propTypes={canvasTimeStart:u.default.PropTypes.number.isRequired,canvasTimeEnd:u.default.PropTypes.number.isRequired,canvasWidth:u.default.PropTypes.number.isRequired,lineHeight:u.default.PropTypes.number.isRequired,lineCount:u.default.PropTypes.number.isRequired},t.default=l},191:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=[],t=0;t<p;t++)e.push({id:""+(t+1),title:o.default.name.firstName(),rightTitle:o.default.name.lastName()});for(var i=[],n=0;n<u;n++){var r=o.default.date.recent(l).valueOf()+.3*l*86400*1e3,s=1e7*Math.floor((0,a.default)(r).valueOf()/1e7),c=(0,a.default)(r+15*o.default.random.number({min:2,max:20})*60*1e3).valueOf();i.push({id:n+"",group:o.default.random.number({min:1,max:e.length})+"",title:o.default.hacker.phrase(),start:s,end:c,canMove:s>(new Date).getTime(),canResize:s>(new Date).getTime()?c>(new Date).getTime()?"both":"left":c>(new Date).getTime()&&"right",className:6===(0,a.default)(r).day()||0===(0,a.default)(r).day()?"item-weekend":"",itemProps:{"data-tip":o.default.hacker.phrase()}})}return i=i.sort(function(e,t){return t-e}),{groups:e,items:i}};var r=i(192),o=n(r),s=i(172),a=n(s),p=30,u=1e3,l=30},1240:function(e,t,i){e.exports=i.p+"index.html"}});